# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Textbook Math Parser

## –î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2026-02-01

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏—á–∏

### 1. –ü–∞—Ä—Å–∏–Ω–≥ OCR —Ç–µ–∫—Å—Ç–∞ —Å –Ω–æ–º–µ—Ä–∞–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü ‚úÖ

**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```
üìÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ 42

–¢–µ–æ—Ä–µ–º–∞ 1: –û—Å–Ω–æ–≤–Ω–æ–µ –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–µ —Ç–æ–∂–¥–µ—Å—Ç–≤–æ
$a^{\log_a b} = b$

–ó–∞–¥–∞—á–∞ 1 (—Å—Ç—Ä. 43): –í—ã—á–∏—Å–ª–∏—Ç–µ $\log_2 32$

–ó–∞–¥–∞—á–∞ 2 (—Å—Ç—Ä. 45): –†–µ—à–∏—Ç–µ $\log_3 x = 4$
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ó–∞–¥–∞—á–∞ 1 ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 43
- ‚úÖ –ó–∞–¥–∞—á–∞ 2 ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 45
- ‚úÖ –¢–µ–æ—Ä–µ–º–∞ ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ 42

**–§–æ—Ä–º–∞—Ç—ã –Ω–æ–º–µ—Ä–æ–≤ —Å—Ç—Ä–∞–Ω–∏—Ü:**
- `üìÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ 42`
- `(—Å—Ç—Ä. 43)`
- `page 44`

### 2. HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–¥–∞—á–∏ —Å PDF ‚úÖ

–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–¥–∞—á–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
1. üìÑ **–¢–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏** —Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º LaTeX (KaTeX)
2. üñºÔ∏è **–ö–∞—Ä—Ç–∏–Ω–∫–∞ PDF** ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–∑ —É—á–µ–±–Ω–∏–∫–∞
3. üî¢ **–ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã** ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
4. ü§ñ **–ö–Ω–æ–ø–∫–∞ AI** ‚Äî —Ä–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏

**URL:** `http://127.0.0.1:8081/textbook/problem/algebra-7:5:1`

### 3. API Endpoints ‚úÖ

| Endpoint | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------|----------|
| `POST /api/import` | ‚úÖ 200 | –ò–º–ø–æ—Ä—Ç OCR —Å –Ω–æ–º–µ—Ä–∞–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü |
| `GET /api/chapters/{id}/problems` | ‚úÖ 200 | –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á —Å page_number |
| `GET /api/problems/{id}` | ‚úÖ 200 | –î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏ |
| `GET /preview_image/{file}/{page}` | ‚úÖ 200 | –ö–∞—Ä—Ç–∏–Ω–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã PDF |

### 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ID ‚úÖ

```
–ó–∞–¥–∞—á–∏:   {book_id}:{chapter_num}:{problem_num}
–ü—Ä–∏–º–µ—Ä:   algebra-7:5:1

URL –∑–∞–¥–∞—á–∏: /textbook/problem/algebra-7:5:1
URL –≥–ª–∞–≤—ã:  /textbook/chapter/algebra-7:5
```

## –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

| –ì–ª–∞–≤–∞ | –ó–∞–¥–∞—á | –¢–µ–æ—Ä–∏–∏ | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
|-------|-------|--------|-------------|
| 1 | 3 | 1 | –ë–∞–∑–æ–≤—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è |
| 2 | 2 | 1 | –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è |
| 3 | 2 | 1 | –¢—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—è |
| 4 | 2 | 1 | –°—Ç–µ–ø–µ–Ω–∏ –∏ –∫–æ—Ä–Ω–∏ |
| 5 | 2 | 1 | –õ–æ–≥–∞—Ä–∏—Ñ–º—ã + –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü |

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ò–º–ø–æ—Ä—Ç —Å –Ω–æ–º–µ—Ä–∞–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
```bash
curl -X POST "http://127.0.0.1:8081/api/import" \
  -H "Content-Type: application/json" \
  -d '{
    "book_id": "algebra-7",
    "chapter_num": 6,
    "chapter_title": "–ü—Ä–æ–∏–∑–≤–æ–¥–Ω–∞—è",
    "text": "üìÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ 100\n\n–ó–∞–¥–∞—á–∞ 1 (—Å—Ç—Ä. 101): –ù–∞–π–¥–∏—Ç–µ $f\'(x)$ –¥–ª—è $f(x)=x^2$"
  }'
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```
http://127.0.0.1:8081/textbook/chapter/algebra-7:5   # –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
http://127.0.0.1:8081/textbook/problem/algebra-7:5:1 # –û–¥–Ω–∞ –∑–∞–¥–∞—á–∞ + PDF
```

## –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

```
data/textbooks.db          # SQLite (68KB)
server.log                 # –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
templates/textbook/        # HTML —à–∞–±–ª–æ–Ω—ã
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. üé® –£–ª—É—á—à–∏—Ç—å UI (responsive design)
2. üîç –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ –∑–∞–¥–∞—á–∞–º
3. üì± –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
4. ü§ñ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å AI –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π
